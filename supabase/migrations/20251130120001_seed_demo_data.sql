-- Seed a demo project, chat, and message for MCP testing (dev only)\n+-- Assumes pgcrypto extension exists and RLS can be bypassed for seed\n+-- Note: This is for local/dev testing and should be removed or guarded in prod.\n+\n+-- Disable RLS for seeding\n+ALTER TABLE public.projects DISABLE ROW LEVEL SECURITY;\n+ALTER TABLE public.chats DISABLE ROW LEVEL SECURITY;\n+ALTER TABLE public.messages DISABLE ROW LEVEL SECURITY;\n+\n+-- Seed data\n+DO $$\n+DECLARE\n+  v_project_id UUID;\n+  v_chat_id UUID;\n+  v_user_id TEXT := 'seed-user';\n+BEGIN\n+  -- create project\n+  INSERT INTO public.projects (id, user_id, title, description, image_url, is_published, created_at, updated_at)\n+  VALUES (gen_random_uuid(), v_user_id, 'Demo MCP Project', 'Seeded demo project for MCP testing', NULL, TRUE, NOW(), NOW())\n+  RETURNING id INTO v_project_id;\n+\n+  -- create chat\n+  INSERT INTO public.chats (id, project_id, title, created_at, updated_at)\n+  VALUES (gen_random_uuid(), v_project_id, 'General', NOW(), NOW())\n+  RETURNING id INTO v_chat_id;\n+\n+  -- create a welcome message\n+  INSERT INTO public.messages (id, chat_id, user_id, content, created_at)\n+  VALUES (gen_random_uuid(), v_chat_id, v_user_id, 'Welcome to the MCP demo data set!', NOW());\n+END $$;\n+\n+-- Re-enable RLS\n+ALTER TABLE public.projects ENABLE ROW LEVEL SECURITY;\n+ALTER TABLE public.chats ENABLE ROW LEVEL SECURITY;\n+ALTER TABLE public.messages ENABLE ROW LEVEL SECURITY;\n*** End Patch

